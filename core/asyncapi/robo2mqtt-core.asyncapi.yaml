asyncapi: '2.6.0'
info:
  title: Robo2MQTT Core API
  version: '1.0.0'
  description: |
    Core MQTT API for all Robo2MQTT-compatible robots.
    Robot-specific specs extend this core.

defaultContentType: application/json

channels:

  # Robot lifecycle
  robo2mqtt/{robotId}/status:
    description: Robot online/offline/ready
    messages:
      statusMessage:
        $ref: './schema/common.yaml#/components/messages/Status'

  # Speech
  robo2mqtt/{robotId}/cmd/speech/say:
    messages:
      sayMessage:
        $ref: './schema/speech.yaml#/components/messages/SayCommand'

  # Movement
  robo2mqtt/{robotId}/cmd/movement/goto:
    messages:
      goToMessage:
        $ref: './schema/movements.yaml#/components/messages/GoToCommand'

  robo2mqtt/{robotId}/event/movement/status:
    messages:
      movementStatus:
        $ref: './schema/movements.yaml#/components/messages/MovementStatus'

  # UI
  robo2mqtt/{robotId}/cmd/ui/askYesNo:
    messages:
      askYesNo:
        $ref: './schema/ui.yaml#/components/messages/AskYesNo'

  robo2mqtt/{robotId}/event/ui/answer:
    messages:
      uiAnswer:
        $ref: './schema/ui.yaml#/components/messages/UIAnswer'

  # Apps
  robo2mqtt/{robotId}/cmd/apps/start:
    messages:
      startApp:
        $ref: './schema/apps.yaml#/components/messages/StartApp'

  robo2mqtt/{robotId}/event/apps/list:
    messages:
      appList:
        $ref: './schema/apps.yaml#/components/messages/AppList'